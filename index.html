<!doctype html>
<html lang="de">

<head>
  <meta charset="UTF-8">
  <title>Jungsch√ºtzen ‚Äì Gruppenmeldung</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #eef2f7;
      padding: 20px;
    }

    .card {
      background: #fff;
      padding: 18px;
      border-radius: 12px;
      margin-bottom: 20px;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
    }

    input,
    select {
      width: 100%;
      padding: 7px;
      margin: 3px 0;
      border: 1px solid #bbb;
      border-radius: 6px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    th,
    td {
      border-bottom: 1px solid #ddd;
      padding: 6px;
      text-align: left;
    }

    th {
      background: #f3f3f3;
    }

    h1 {
      margin-top: 0;
    }

    .btn {
      background: #0077dd;
      color: white;
      padding: 10px 18px;
      border-radius: 6px;
      cursor: pointer;
      border: none;
      font-size: 15px;
    }

    .btn:hover {
      background: #005ebb;
    }

    .total {
      font-weight: bold;
      color: #0055cc;
    }
  </style>
</head>

<body>

  <h1>Jungsch√ºtzen ‚Äì Gruppenmeldung</h1>

  <div class="card">
    <label>Name Gruppenchef</label>
    <input id="chefName" placeholder="Name Vorname">

    <label>E-Mail</label>
    <input id="chefEmail" type="email" placeholder="name@verein.ch">
  </div>

  <!-- ---------------------------------------------------- -->
  <!--                   GRUPPEN BEREICH                    -->
  <!-- ---------------------------------------------------- -->

  <script>
    function createGroupTable(groupId) {
      let html = `
        <div class="card">
          <h2>Gruppe ${groupId}</h2>
          <table>
            <thead>
              <tr>
                <th>Sch√ºtze</th>
                <th>Name</th>
                <th>Jahrgang</th>
                <th>Resultat</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody id="group${groupId}">
      `;

      for (let i = 1; i <= 4; i++) {
        html += `
          <tr>
            <td>${i}</td>
            <td><input class="name"></td>
            <td><input class="year"></td>
            <td><input class="result" type="number" oninput="updateTotals()"></td>
            <td class="total">0</td>
          </tr>
        `;
      }

      html += `
            </tbody>
          </table>
        </div>
      `;
      return html;
    }
  </script>

  <div id="groups"></div>

  <script>
    document.getElementById("groups").innerHTML =
      createGroupTable(1) +
      createGroupTable(2) +
      createGroupTable(3);
  </script>

  <!-- ---------------------------------------------------- -->
  <!--              TOTALS BERECHNUNG                       -->
  <!-- ---------------------------------------------------- -->

  <script>
    function updateTotals() {
      for (let g = 1; g <= 3; g++) {
        let rows = document.querySelectorAll(`#group${g} tr`);
        let groupTotal = 0;

        rows.forEach(row => {
          let res = parseInt(row.querySelector(".result").value) || 0;
          row.querySelector(".total").textContent = res;
          groupTotal += res;
        });

        document.getElementById(`sumG${g}`).textContent = groupTotal;
      }
    }

    function getGroupSum(g) {
      return parseInt(document.getElementById(`sumG${g}`).textContent);
    }
  </script>

  <!-- ---------------------------------------------------- -->
  <!--                 TOTAL ANZEIGE                        -->
  <!-- ---------------------------------------------------- -->

  <div class="card">
    <h2>Vergleich ‚Äì Gruppen Total</h2>

    <table>
      <tr>
        <th>Gruppe</th>
        <th>Total</th>
      </tr>
      <tr>
        <td>Gruppe 1</td>
        <td id="sumG1" class="total">0</td>
      </tr>
      <tr>
        <td>Gruppe 2</td>
        <td id="sumG2" class="total">0</td>
      </tr>
      <tr>
        <td>Gruppe 3</td>
        <td id="sumG3" class="total">0</td>
      </tr>
    </table>
  </div>

  <!-- ---------------------------------------------------- -->
  <!--                 GRUPPEN VERGLEICH                    -->
  <!-- ---------------------------------------------------- -->

  <div class="card">
    <h2>Gruppen vergleichen</h2>

    <label>Vergleich ausw√§hlen:</label>
    <select id="compareSelect" onchange="compareGroups()">
      <option value="">Bitte w√§hlen‚Ä¶</option>
      <option value="1-2">Gruppe 1 vs Gruppe 2</option>
      <option value="1-3">Gruppe 1 vs Gruppe 3</option>
      <option value="2-3">Gruppe 2 vs Gruppe 3</option>
    </select>

    <h3 id="compareResult" style="margin-top: 15px;"></h3>
  </div>

  <script>
    function compareGroups() {
      let sel = document.getElementById("compareSelect").value;
      let out = document.getElementById("compareResult");

      if (!sel) {
        out.innerHTML = "";
        return;
      }

      let [A, B] = sel.split("-").map(Number);
      let totalA = getGroupSum(A);
      let totalB = getGroupSum(B);

      if (totalA > totalB) {
        out.innerHTML = `üèÜ Sieger: <b>Gruppe ${A}</b> mit ${totalA} Punkten (Gruppe ${B}: ${totalB})`;
      } else if (totalB > totalA) {
        out.innerHTML = `üèÜ Sieger: <b>Gruppe ${B}</b> mit ${totalB} Punkten (Gruppe ${A}: ${totalA})`;
      } else {
        out.innerHTML = `‚öñ <b>Unentschieden</b> ‚Äì beide Gruppen haben ${totalA} Punkte`;
      }
    }
  </script>

  <!-- ---------------------------------------------------- -->
  <!--                  SENDEN / ABSCHLUSS                  -->
  <!-- ---------------------------------------------------- -->

  <div class="card">
    <button class="btn">Senden</button>
    <p style="color: #666; margin-top: 10px;">(Senden-Funktion kann ich dir einbauen ‚Äì sag mir Bescheid)</p>
  </div>

</body>
</html>
