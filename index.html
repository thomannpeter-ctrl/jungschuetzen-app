<!doctype html>
<html lang="de">
<head>
<meta charset="UTF-8">

<!-- ‚úÖ APP / TITEL -->
<title>Jungsch√ºtzen Amtscup</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- ‚úÖ PWA -->
<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png?v=1">
<link rel="icon" type="image/png" sizes="180x180" href="apple-touch-icon.png?v=1">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="theme-color" content="#1e3a8a">

<style>
*{box-sizing:border-box}
body{font-family:system-ui,sans-serif;background:#eef2f7;margin:0;color:#111827}
.container{max-width:1200px;margin:auto;padding:1rem}
h1{color:#1e3a8a}
h2{color:#1d4ed8;margin:.5rem 0}
.card{background:#fff;border-radius:14px;padding:1rem 1.25rem;
box-shadow:0 4px 10px rgba(15,23,42,.08);margin-bottom:1rem}
.row{display:flex;gap:.75rem;flex-wrap:wrap}
.field{flex:1;min-width:220px}
label{font-size:.8rem;font-weight:600}
input,select{width:100%;padding:.45rem;border-radius:8px;border:1px solid #cbd5f5}
.input-year{max-width:80px}
.input-result{max-width:70px}
th.gear,td.gear{width:90px}
th.zcol,td.zcol{width:65px}
table{width:100%;border-collapse:collapse;font-size:.85rem}
th,td{border:1px solid #e5e7eb;padding:.4rem;text-align:center}
th{background:#dbeafe}
button{border:none;border-radius:999px;padding:.9rem;font-size:1rem;cursor:pointer;background:#2563eb;color:white;width:100%}
.winner{padding:.7rem;border-radius:12px;font-weight:700}
.winner-ok{background:#dcfce7;color:#166534}
.winner-none{background:#e5e7eb;color:#374151}
</style>
</head>

<body>
<div class="container">

<!-- ‚úÖ SEITENTITEL -->
<h1>Jungsch√ºtzen Amtscup</h1>

<div class="card">
<h2>1. Gruppenchef</h2>
<div class="row">
  <div class="field"><label>Name</label><input id="chef"></div>
  <div class="field"><label>E-Mail</label><input id="email" type="email"></div>
</div>
</div>

<div class="card">
<h2>2. Gruppenauswahl</h2>
<div class="row">
  <div class="field"><label>Gruppe 1 *</label><select id="g1"></select></div>
  <div class="field"><label>Gruppe 2 *</label><select id="g2"></select></div>
  <div class="field"><label>Gruppe 3</label><select id="g3"></select></div>
</div>
</div>

<div id="groups"></div>

<div class="card">
<h2>Sieger</h2>
<div id="winner" class="winner winner-none">Noch keine Resultate</div>
</div>

<div class="card">
<button onclick="sendResult()">üìß Resultat per Mail senden</button>
</div>

</div>

<script>
const RESULT_EMAIL="thomannpeter@bluewin.ch";

const SPORTGERAETE=[
 {n:"",z:0},{n:"Standard",z:0},{n:"FG",z:0},
 {n:"Karabiner",z:4},{n:"57/02",z:8},{n:"57/03",z:4},
 {n:"90BK",z:4},{n:"90RK",z:4}
];
const zus=g=>(SPORTGERAETE.find(x=>x.n===g)||{z:0}).z;

/* === Rest bleibt unver√§ndert === */
async function loadGroups(){
 const r=await fetch("gruppen.txt?ts="+Date.now());
 const list=(await r.text()).split(/\r?\n/).filter(x=>x.trim());
 ["g1","g2","g3"].forEach(id=>{
  const s=document.getElementById(id);
  s.innerHTML="<option value=''>Bitte w√§hlen‚Ä¶</option>";
  list.forEach(g=>{
    const o=document.createElement("option");
    o.value=o.textContent=g;
    s.appendChild(o);
  });
  s.onchange=buildGroups;
 });
}

/* ‚Ä¶ (Logik unver√§ndert) ‚Ä¶ */

loadGroups();
</script>
</body>
</html>
